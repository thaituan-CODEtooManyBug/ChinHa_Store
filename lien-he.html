<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Li√™n H·ªá - Chin H·∫° Store</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <link href="assets/img/logo.jpg" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Cardo:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: PhotoFolio
  * Template URL: https://bootstrapmade.com/photofolio-bootstrap-photography-website-template/
  * Updated: Aug 07 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body class="contact-page">

 <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container-fluid position-relative d-flex align-items-center justify-content-between">

      <a href="index.html" class="logo d-flex align-items-center me-auto me-xl-0" style="gap: 10px;">
        <h1 style="font-family: 'Cardo', serif; font-weight: 700; font-size: 1rem; color: #999797; letter-spacing: 2px; text-shadow: 1px 2px 8px rgba(0,0,0,0.08); margin: 0; display: flex; align-items: center;">
          <span>CHIN H·∫† STORE</span>
        </h1>
      </a>

 <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="index.html" class="active">TRANG CH·ª¶<br></a></li>
          <li><a href="lien-he.html">LI√äN H·ªÜ</a></li>
          <li class="dropdown"><a href="#"><span>C√ÅC S·∫¢N PH·∫®M</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
              <li><a href="canon-g7x-markII.html">Canon G7x Mark II</a></li>
              <li><a href="canon-r50-bmt.html">Canon EOS R50 - Bu√¥n Ma Thu·ªôt</a></li>
              <li><a href="canon-r50-tphcm.html">Canon EOS R50 - S√†i G√≤n</a></li>
              <li><a href="dji-osmo-pocket3.html">DJI Osmo Pocket 3</a></li>
              <li><a href="fujifilm-xt30.html">Fujifilm XT-30</a></li>
              <li><a href="fujifilm-xm5.html">Fujifilm XM-5</a></li>
              <li><a href="fujifilm-xs20.html">Fujifilm XS-20</a></li>
              <li><a href="fujifilm-x100vi.html">Fujifilm X100VI</a></li>
              </li>
            </ul>
          </li>
          <li><a href="chinh-sach-thue.html">CH√çNH S√ÅCH THU√ä</a></li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>


      <div class="header-social-links">
        <a href="https://www.facebook.com/profile.php?id=61574591176497" target="_blank" rel="noopener"><i class="bi bi-facebook"></i></a>
        <a href="https://www.instagram.com/thuemayanh.bmt/?fbclid=IwY2xjawL23nRleHRuA2FlbQIxMABicmlkETFEV3ZNY3RDQmJDSXBPMzNqAR4EAsUrJqRotSIJPhod-pwyAPpD9PbodryXC9wf4UO8hXFbAzzudSC-D_u_3w_aem_GYKok9NfdBk3977NzohPVQ#" target="_blank" rel="noopener"><i class="bi bi-instagram"></i></a>
      </div>

    </div>
  </header>

  <main class="main">

    <!-- Page Title -->
    <div class="page-title" data-aos="fade">
      <div class="heading">
        <div class="container">
          <div class="row d-flex justify-content-center text-center">
            <div class="col-lg-8">
              <h1 style="font-family: 'Cardo', serif; font-weight: 700; font-size: 3.3rem; color: #ffffff; letter-spacing: 2px; text-shadow: 1px 2px 8px rgba(0,0,0,0.08); margin-bottom: 24px;">
              <span>TRANG LI√äN H·ªÜ</span>
              </h1>
              <p class="mb-0" style="color: #F2A7AD">Qu√Ω kh√°ch c√≥ th·ªÉ ƒëƒÉng k√Ω v√† ki·ªÉm tra l·ªãch thu√™ m√°y tr·ª±c ti·∫øp tr√™n website, ho·∫∑c li√™n h·ªá qua s·ªë ƒëi·ªán tho·∫°i 0842204207 (M·∫´n Hi Chin) ƒë·ªÉ ƒë∆∞·ª£c t∆∞ v·∫•n nhanh ch√≥ng. Ngo√†i ra, ch√∫ng t√¥i lu√¥n s·∫µn s√†ng h·ªó tr·ª£ qua tin nh·∫Øn tr√™n Instagram v√† Facebook.</p>
            </div>
          </div>
        </div>
      </div>
      <nav class="breadcrumbs">
        <div class="container">
          <ol>
            <li><a href="index.html">Trang Ch·ªß</a></li>
            <li class="current">Li√™n H·ªá</li>
          </ol>
        </div>
      </nav>
    </div><!-- End Page Title -->
    <!--li test css-->
    <style>
      li{
        font-family: var(--default-font);
      }
    </style>
    <!-- Contact Section -->
    <section id="contact" class="contact section">

      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="info-wrap" data-aos="fade-up" data-aos-delay="200">
          <div class="row gy-5">

            <div class="col-lg-4">
              <div class="info-item d-flex align-items-center">
                <i class="bi bi-geo-alt flex-shrink-0"></i>
                <div>
                  <h3>ƒê·ªãa ƒêi·ªÉm</h3>
                  <p>Th√†nh Ph·ªë H·ªì Ch√≠ Minh (Canon EOS R50)</p>
                  <p>Th√†nh Ph·ªë Bu√¥n Ma Thu·ªôt (C√°c lo·∫°i m√°y)</p>
                </div>
              </div>
            </div><!-- End Info Item -->

            <div class="col-lg-4">
              <div class="info-item d-flex align-items-center">
                <i class="bi bi-telephone flex-shrink-0"></i>
                <div>
                  <p>ƒêi·ªán tho·∫°i</p>
                  <p>0842204207</p>
                </div>
              </div>
            </div><!-- End Info Item -->

            <div class="col-lg-4">
              <div class="info-item d-flex align-items-center">
                <i class="bi bi-envelope flex-shrink-0"></i>
                <div>
                  <h3>Email</h3>
                  <p>manhichin337@gmail.com</p>
                </div>
              </div>
            </div><!-- End Info Item -->

          </div>
        </div>
        <!--Start booking form-->
<!-- FullCalendar + Modal ch·ªçn th·ªùi gian linh ho·∫°t -->
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/locales-all.min.js"></script>
<!-- Dropdown ch·ªçn m√°y ·∫£nh -->
<div class="container mt-4">
  <select id="cameraSelect" class="form-control">
    <option value="" style="background:rgba(30,30,30,0.7);color:#fff;text-align:center;">-- Ch·ªçn m√°y ·∫£nh --</option>
    <option value="canon-g7x">Canon G7x Mark II</option>
    <option value="fujifilm-x100vi">Fujifilm X100VI</option>
  </select>
  <!-- L·ªãch -->
  <div id="calendar" class="mt-4"></div>
</div>

<!-- Modal ch·ªçn gi·ªù linh ho·∫°t + form thu√™ -->
<div id="slotModal" style="display:none; position:fixed; top:10%; left:50%; transform:translateX(-50%); background:#1f1f1f; padding:24px; border:1px solid #333; border-radius:12px; z-index:1000; max-width:520px; width:90%; color: #f0f0f0; font-family: 'Segoe UI', sans-serif">
  <p style="margin-bottom: 12px; font-weight:600; color:#ffffff;">Ch·ªçn gi·ªù thu√™ (6 ti·∫øng)</p>
  <div id="slot-container" style="display:flex; flex-direction:column; gap:10px; margin:10px 0;">
    <label for="startHour">B·∫Øt ƒë·∫ßu l√∫c:</label>
    <select id="startHour" class="form-control" style="width: 100%; margin-bottom: 10px;"></select>
    <div id="conflictInfo" style="font-size: 14px; color: #999;"></div>
  </div>
  <div style="text-align: right">
    <button type="button" onclick="closeModal()" class="btn btn-secondary" style="background:#444; color:#eee; border:none; padding:8px 16px; border-radius:6px;">ƒê√≥ng</button>
  </div>

  <form id="bookingForm" style="display:none; margin-top:20px">
    <p style="margin-bottom: 10px, font-weight:500, color:#dddddd;">Th√¥ng tin thu√™</p>
    <input type="hidden" name="camera" />
    <input type="hidden" name="date" />
    <input type="hidden" name="start" />
    <input type="hidden" name="end" />

    <div class="form-group">
      <label>H·ªç v√† t√™n</label>
      <input type="text" name="name" class="form-control" required />
    </div>
    <div class="form-group">
      <label>Email</label>
      <input type="email" name="email" class="form-control" required />
    </div>
    <div class="form-group">
      <label>S·ªë ƒëi·ªán tho·∫°i</label>
      <input type="tel" name="phone" class="form-control" required />
    </div>
    <div class="form-group">
      <label>Ghi ch√∫</label>
      <textarea name="note" class="form-control"></textarea>
    </div>

    <div style="margin-top:15px">
      <button type="submit" class="btn btn-light" style="background:#2d89ef; color:#fff; border:none; padding:10px 20px; border-radius:6px">G·ª≠i y√™u c·∫ßu thu√™</button>
      <button type="button" onclick="closeModal()" class="btn btn-secondary" style="background:#444; color:#eee; border:none; padding:10px 20px; border-radius:6px">H·ªßy</button>
    </div>
  </form>
</div>



        <!--+++++++++++++++++++++++++End Booking Form+++++++++++++++++++++++++++++++++++++-->
    </div>
    </section><!-- /Contact Section -->
  </main>

  <footer id="footer" class="footer">

    <div class="container">
      <div class="copyright text-center ">
        <p>¬© <span>Thi·∫øt k·∫ø b·ªüi PhotoFolio</span> <strong class="px-1 sitename">PhotoFolio</strong> <span>D·ª±ng Web b·ªüi ThaiTuan</span></p>
      </div>
      <div class="social-links d-flex justify-content-center">
        <a href=""><i class="bi bi-twitter-x"></i></a>
        <a href=""><i class="bi bi-facebook"></i></a>
        <a href=""><i class="bi bi-instagram"></i></a>
        <a href=""><i class="bi bi-linkedin"></i></a>
      </div>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you've purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
        B·∫£n quy·ªÅn thu·ªôc v·ªÅ <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>

  </footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader">
    <div class="line"></div>
  </div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Main JS File -->
  <script src="assets/js/main.js"></script>

</body>
</html>


<style>
  .fc-event-time {
  display: none !important;
}
  #slotModal input.form-control,
  #slotModal textarea.form-control,
  #slotModal select.form-control {
    background-color: #2a2a2a;
    color: #f0f0f0;
    border: 1px solid #444;
    border-radius: 6px;
    margin-bottom: 10px;
  }
  #slotModal label {
    font-weight: 500;
    margin-bottom: 4px;
  }
#calendar {
  background: #ffffff;
  border-radius: 18px;
  box-shadow: 0 4px 32px rgba(0,0,0,0.10);
  padding: 18px 8px 8px 8px;
  color: #222;
}
.fc {
  background: transparent;
  color: #222;
}
.fc-scrollgrid-sync-inner,
.fc-col-header-cell,
.fc-daygrid-day,
.fc-daygrid-day-number,
.fc-toolbar-title,
.fc-event-title {
  color: #222 !important;
}
.fc-event {
  background: rgba(45,196,255,0.18) !important;
  border: none !important;
  color: #156fa3 !important;
  font-weight: 500;
  border-radius: 8px !important;
  box-shadow: none !important;
}
.fc-event-title {
  color: #156fa3 !important;
}
.fc-event.bg-danger, .fc-event[data-bg="danger"], .fc-event[title*="K√çN L·ªäCH"] {
  background: rgba(255, 56, 56, 0.22) !important;
  color: #b80000 !important;
  font-weight: 700;
  border-radius: 8px !important;
  border: none !important;
  letter-spacing: 1px;
  box-shadow: 0 2px 8px rgba(255,56,56,0.10);
}
.fc-daygrid-day.fc-day-today {
  border-radius: 8px;
}
.fc-button {
  background: #ffffff !important;
  color: #000000 !important;
  border: none !important;
  border-radius: 6px !important;
  box-shadow: none !important;
  transition: background 0.2s;
}
.fc-button:hover, .fc-button:focus {
  background: #156fa3 !important;
  color: #ffffff !important;
}
.fc-daygrid-day-number {
  color: #ffffff !important;
  font-weight: 600;
}
.fc-daygrid-day.fc-day-today .fc-daygrid-day-number {
  color: #156fa3 !important;
}
#cameraSelect {
  background-color: transparent !important;
  color: var(--accent-color) !important;
  border: 2px solid var(--accent-color) !important;
  font-weight: 500;
  font-size: 14px;
  display: inline-block;
  margin-top: 20px;
  padding: 12px 40px;
  border-radius: 8px;
  text-transform: uppercase;
  letter-spacing: 1px;
  transition: all 0.3s ease;
}
#cameraSelect:hover {
  background-color: var(--accent-color) !important;
  color: var(--contrast-color) !important;
  transform: scale(1.03);
}
#cameraSelect option {
  background: rgba(255,255,255,0.95);
  color: #222;
}
</style>

<script>
// Constants
const fixedSlots = [
  { id: "fixed-1", label: "09:00 ‚Äì 15:00", start: "09:00", end: "15:00" },
  { id: "fixed-2", label: "16:00 ‚Äì 22:00", start: "16:00", end: "22:00" }
];
const flexibleStartOptions = ["09:00", "10:00", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00", "17:00"];
const buffer = 1; // gi·ªù ƒë·ªám

// Fake data m·∫´u
const mockBookings = {
  "canon-g7x": {
    // ƒê√£ thu√™ khung c·ªë ƒë·ªãnh s√°ng
    "2025-08-10": ["09:00-15:00"],

    // ƒê√£ thu√™ khung c·ªë ƒë·ªãnh chi·ªÅu
    "2025-08-11": ["16:00-22:00"],

    // ƒê√£ thu√™ c·∫£ 2 khung
    "2025-08-12": ["09:00-15:00", "16:00-22:00"],

    // ƒê√£ thu√™ linh ho·∫°t nh∆∞ng g·∫ßn khung c·ªë ƒë·ªãnh
    "2025-08-13": ["10:00-16:00"]
  },

  "fujifilm-x100vi": {
    "2025-08-15": ["09:00-15:00"],
    "2025-08-16": ["10:00-16:00"],
    "2025-08-17": ["11:00-17:00"],
    "2025-08-18": ["12:00-18:00"],
    "2025-08-19": ["13:00-19:00"],
    "2025-08-20": ["14:00-20:00"],
    "2025-08-21": ["15:00-21:00"],
    "2025-08-22": ["16:00-22:00"],
    "2025-08-23": ["17:00-23:00"]
  }
};


// Render option gi·ªù d·ª±a tr√™n logic
function showFlexibleHourOptions(date, cameraId, bookedRanges) {
  const select = document.getElementById("startHour");
  const info = document.getElementById("conflictInfo");
  const form = document.getElementById("bookingForm");
  select.innerHTML = "";
  info.innerHTML = "";
  form.style.display = "none";

  
  // Hi·ªÉn th·ªã c√°c khung ƒë√£ k√≠n
  if (bookedRanges.length > 0) {
    info.innerHTML = `<strong>ƒê√£ k√≠n:</strong><br>${bookedRanges.map(r => `‚Ä¢ ${r}`).join('<br>')}`;
  }

  // L·ªçc option theo logic c·ªë ƒë·ªãnh v√† linh ho·∫°t
  const availableOptions = [];

  // Th√™m khung c·ªë ƒë·ªãnh n·∫øu kh√¥ng b·ªã chi·∫øm
  fixedSlots.forEach(slot => {
    if (!bookedRanges.some(r => isConflict(slot.start, slot.end, r, buffer))) {
      availableOptions.push({ label: `Khung c·ªë ƒë·ªãnh: ${slot.label}`, value: `${slot.start}-${slot.end}` });
    }
  });

  // Th√™m c√°c khung linh ho·∫°t t·ª´ 09:00‚Äì17:00
  flexibleStartOptions.forEach(start => {
    const end = addHours(start, 6);
    if (parseInt(end.split(":")[0]) <= 23) {
      const bufferedStart = subtractHours(start, buffer);
      const bufferedEnd = addHours(end, buffer);
      const conflict = bookedRanges.some(r => isConflict(bufferedStart, bufferedEnd, r, 0));
      if (!conflict) {
        availableOptions.push({ label: `Linh ho·∫°t: ${start} ‚Äì ${end}`, value: `${start}-${end}` });
      }
    }
  });

// Render c√°c option kh√¥ng tr√πng
const rendered = new Set();
availableOptions.forEach(opt => {
  if (!rendered.has(opt.value)) {
    const o = document.createElement("option");
    o.textContent = opt.label;
    o.value = opt.value;
    select.appendChild(o);
    rendered.add(opt.value);
  }
});

  select.onchange = () => {
    form.style.display = 'block';
    const [start, end] = select.value.split('-');
    form.camera.value = cameraId;
    form.date.value = date;
    form.start.value = start;
    form.end.value = end;
  };

  document.getElementById("slotModal").style.display = 'block';
}

function addHours(time, h) {
  const [hour, min] = time.split(":").map(Number);
  const newHour = hour + h;
  return `${String(newHour).padStart(2, '0')}:${String(min).padStart(2, '0')}`;
}

function subtractHours(time, h) {
  return addHours(time, -h);
}

function isConflict(start1, end1, range, buffer = 0) {
  const [rStart, rEnd] = range.split("-");
  const s1 = subtractHours(start1, buffer);
  const e1 = addHours(end1, buffer);
  return !(e1 <= rStart || s1 >= rEnd);
}
let calendar;
const cameraSelect = document.getElementById("cameraSelect");
const calendarEl = document.getElementById("calendar");

cameraSelect.addEventListener("change", function () {
  const selectedCamera = this.value;
  if (!selectedCamera) return;

  if (calendar) calendar.destroy();

calendar = new FullCalendar.Calendar(calendarEl, {
  initialView: "dayGridMonth",
  locale: "vi",
  height: "auto",
  selectable: true,
  eventTimeFormat: false,
  eventDisplay: 'block',
  headerToolbar: {
    left: "prev,next today",
    center: "title",
    right: ""
  },
  events: function (info, successCallback) {
  const data = mockBookings[selectedCamera] || {};
  const events = [];

  Object.entries(data).forEach(([date, slots]) => {
    const availableOptions = [];

    // Ki·ªÉm tra khung c·ªë ƒë·ªãnh
    fixedSlots.forEach(slot => {
      if (!slots.some(r => isConflict(slot.start, slot.end, r, buffer))) {
        availableOptions.push(`${slot.start}-${slot.end}`);
      }
    });

    // Ki·ªÉm tra linh ho·∫°t
    flexibleStartOptions.forEach(start => {
      const end = addHours(start, 6);
      if (parseInt(end.split(":")[0]) <= 23) {
        const bufferedStart = subtractHours(start, buffer);
        const bufferedEnd = addHours(end, buffer);
        const conflict = slots.some(r => isConflict(bufferedStart, bufferedEnd, r, 0));
        if (!conflict) {
          availableOptions.push(`${start}-${end}`);
        }
      }
    });

    // N·∫øu kh√¥ng c√≤n slot n√†o h·ª£p l·ªá ‚Üí ƒë√°nh d·∫•u k√≠n l·ªãch (background ƒë·ªè)
    if (availableOptions.length === 0) {
      events.push({
        title: "K√çN L·ªäCH",
        start: date,
        display: "background",
        color: "#d11313"
      });
    }

    // V·∫´n hi·ªÉn th·ªã c√°c slot ƒë√£ thu√™
    slots.forEach(range => {
      const [start, end] = range.split("-");
      events.push({
        title: `ƒê√£ thu√™ (${range})`,
        start: `${date}T${start}`,
        end: `${date}T${end}`,
        display: "block",
        color: "#2dc4ff"
      });
    });
  });

  successCallback(events);
},

  dateClick: function (info) {
    const date = info.dateStr;
    const booked = mockBookings[selectedCamera]?.[date] || [];
    showFlexibleHourOptions(date, selectedCamera, booked);
    if (availableOptions.length === 0) {
  info.innerHTML = "<strong style='color:#d11313'>üîí Ng√†y n√†y ƒë√£ k√≠n l·ªãch, vui l√≤ng ch·ªçn ng√†y kh√°c.</strong>";
  document.getElementById("slotModal").style.display = 'block';
  return;
}

  }
});


  calendar.render();
});
function closeModal() {
  document.getElementById("slotModal").style.display = 'none';
  document.getElementById("bookingForm").style.display = 'none';
  document.getElementById("bookingForm").reset();
  document.getElementById("startHour").value = "";
  document.getElementById("conflictInfo").innerHTML = "";
}
</script>